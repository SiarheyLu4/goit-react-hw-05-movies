{"version":3,"file":"static/js/276.cc478fe6.chunk.js","mappings":"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","sources":["components/MovieList/MovieList.jsx","../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","components/PopularMovies/PopularMovies.jsx","pages/HomePage/HomePage.jsx","shared/api/apiMovies.js"],"sourcesContent":["import { Link, useLocation } from \"react-router-dom\";\nimport styled from \"styled-components\";\n\nexport const MovieList = ({ items }) => {\n  const location = useLocation();\n  // console.log(location);\n  const elements = items.map(({ id, title }) => <Li key={id}>\n    <LinkEl state={{from: location}} to={`/movies/${id}`}>{title}</LinkEl>\n    </Li>);\n  return (\n    <ul>{elements}</ul>\n  );\n}\n\nMovieList.defaultProps = {\n    items:[]\n}\n\nconst LinkEl = styled(Link)`\n  text-decoration: none;\n  color: inherit;\n  &: hover{\n    color: #5941e8;\n  }\n`\nconst Li = styled.li`\npadding-bottom: 4px;\nfont-size: 24px;\n`","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import { useState, useEffect } from \"react\";\n// import { Link } from \"react-router-dom\";\nimport styled from \"styled-components\";\n\nimport { getPopularMovies } from \"shared/api/apiMovies\";\nimport { MovieList } from \"components/MovieList/MovieList\";\n\nexport const PopularMovies = () => {\n  const [state, setState] = useState({\n    items: [],\n    loading: false,\n    error: null,\n  });\n\n  useEffect(() => {\n    const fetchPopularMovies = async() => {\n      try {\n        setState(prevState => ({\n          ...prevState,\n          loading: true,\n          error: null,\n      }));\n        const result = await getPopularMovies();\n        setState(prevState => {\n          return {\n            ...prevState,\n            items: [...prevState.items, ...result]\n          }\n        })\n      } catch (error) {\n        setState(prevState => ({\n          ...prevState,\n          error,\n        }))\n      }\n      finally {\n        setState(prevState => {\n          return {\n            ...prevState,\n            loading: false,\n          }\n        })\n      }\n    };\n\n    fetchPopularMovies();\n  }, [setState]);\n\n  const { items, loading, error } = state;\n\n  return (\n    <Card>\n      {items.length > 0 && <MovieList items={items} />}\n      {loading && <p>Loading movies</p>}\n      {error && <p>Loading movies failed</p>}\n    </Card>\n  )\n}\n\nconst Card = styled.div`\n  margin: 12px;\n`\n\n","import styled from \"styled-components\";\n\nimport { PopularMovies } from \"components/PopularMovies/PopularMovies\";\n\n\nconst HomePage = () => {\n  return (\n    <HomeContainer>\n      <H2>Trending Today</H2>\n      <PopularMovies/>\n    </HomeContainer>\n  )\n}\n\nconst HomeContainer = styled.div`\nmax-width: 1140px;\nmargin: 0 auto;\n`\nconst H2 = styled.h2`\nfont-size: 32px;\ntext-align: center;\nmargin:12px;\n`\n\nexport default HomePage;","\nconst URL = 'https://api.themoviedb.org/3';\nconst KEY = 'b562b6919245407f9980120c8923230e';\n\nexport const getPopularMovies = async () => {\n  try {\n    const response = await fetch(`${URL}/trending/movie/day?api_key=${KEY}`);\n    const movies = await response.json();\n    // console.log(movies);\n    return movies.results;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const getFullInfoMovie = async (id) => {\n  try {\n    const response = await fetch(`${URL}/movie/${id}?api_key=${KEY}`);\n    const movie = await response.json();\n    // console.log(movie);\n    return movie;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const getSearchMovies = async (query) => { \n  try {\n    const response = await fetch(`${URL}/search/movie?api_key=${KEY}&query=${query}`);\n    const movies = await response.json();\n    // console.log(movies);\n    return movies.results;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const getCast = async (id) => {\n  try {\n    const response = await fetch(`${URL}/movie/${id}/credits?api_key=${KEY}`);\n    const cast = await response.json();\n    // console.log(cast);\n    return cast;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const getReviews = async (id) => {\n  try {\n    const response = await fetch(`${URL}/movie/${id}/reviews?api_key=${KEY}`);\n    const reviews = await response.json();\n    // console.log(reviews);\n    return reviews.results;\n  } catch (error) {\n    console.log(error);\n  }\n};"],"names":["MovieList","items","location","useLocation","elements","map","id","title","Li","LinkEl","state","from","to","defaultProps","styled","Link","_toConsumableArray","arr","Array","isArray","arrayLikeToArray","iter","Symbol","iterator","unsupportedIterableToArray","TypeError","PopularMovies","useState","loading","error","setState","useEffect","fetchPopularMovies","prevState","getPopularMovies","result","Card","length","HomeContainer","H2","URL","KEY","fetch","response","json","movies","results","console","log","getFullInfoMovie","movie","getSearchMovies","query","getCast","cast","getReviews","reviews"],"sourceRoot":""}