{"version":3,"file":"static/js/507.66833cf7.chunk.js","mappings":"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","sources":["components/MovieList/MovieList.jsx","components/MoviesSearchForm/MoviesSearchForm.jsx","components/MoviesSearch/MoviesSearch.jsx","pages/MoviesPage/MoviesPage.jsx","shared/api/apiMovies.js"],"sourcesContent":["import { Link } from \"react-router-dom\";\nimport styled from \"styled-components\";\n\nexport const MovieList = ({ items }) => {\n  const elements = items.map(({ id, title }) => <Li key={id}>\n    <LinkEl to={`/movies/${id}`}>{title}</LinkEl>\n    </Li>);\n  return (\n    <ul>{elements}</ul>\n  );\n}\n\nMovieList.defaultProps = {\n    items:[]\n}\n\nconst LinkEl = styled(Link)`\n  text-decoration: none;\n  color: inherit;\n  &: hover{\n    color: #5941e8;\n  }\n`\nconst Li = styled.li`\npadding-bottom: 4px;\nfont-size: 24px;\n`","import { useState } from \"react\";\nimport styled from \"styled-components\";\n\nexport const MoviesSearchForm = ({onSubmit}) => {\n  const [state, setState] = useState({\n    search: '',\n  });\n\n  const handleChange = ({ target }) => {\n    const { name, value } = target;\n    setState({\n      ...state,\n      [name]: value,\n    })\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    onSubmit({ ...state });\n    setState({\n      search: ''\n    })\n  };\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <Input\n        name='search'\n        value={state.search}\n        onChange={handleChange}\n        placeholder='enter movie name'\n        required\n      />\n      <Btm type=\"submit\">Search</Btm>\n    </form>\n  )\n};\n\nconst Input = styled.input`\n  width: 400px;\n  height: 28px;\n  font-size: 24px;\n  margin-bottom: 16px;\n`\nconst Btm = styled.button`\n  height: 34px;\n  font-size: 24px;\n  background-color: #d3cff6;\n  &:hover{\n    background-color: #8b79f6;\n  }\n`","import { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport { useSearchParams } from \"react-router-dom\";\n\n\nimport { MoviesSearchForm } from \"components/MoviesSearchForm/MoviesSearchForm\";\nimport { getSearchMovies } from \"shared/api/apiMovies\";\nimport { MovieList } from \"components/MovieList/MovieList\";\n\nexport const MoviesSearch = () => {\n  const [state, setState] = useState({\n    items: [],\n    loading: false,\n    error: null,\n  });\n\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  const search = searchParams.get('search');\n\n  // const [search, setSearch] = useState('');\n\n  useEffect(() => {\n    const fetchMovies = async () => {\n      try {\n        setState(prevState => ({\n          ...prevState,\n          loading: true,\n        }))\n        const data = await getSearchMovies(search);\n        setState(prevState => ({\n          ...prevState,\n          items: data,\n        }))\n      } catch (error) {\n        setState(prevState => ({\n          ...prevState, \n          error,\n        }))\n      }\n      finally {\n        setState(prevState => ({\n          ...prevState,\n          loading: false,\n        }))\n      }\n    };\n\n    if (search) {\n      fetchMovies()\n    }\n  }, [search]);\n\n  const changeSearch = ({ search }) => {\n    setSearchParams({search});\n  };\n\n  const { items, loading, error } = state;\n\n  return (\n    <Card>\n      <MoviesSearchForm onSubmit={changeSearch} />\n      {items.length > 0 && <MovieList items={items} />}\n      {loading && <p>Loading movies</p>}\n      {error && <p>Loading movies failed</p>}\n    </Card>\n  )\n};\n\nconst Card = styled.div`\n  margin: 12px;\n`","import { MoviesSearch } from \"components/MoviesSearch/MoviesSearch\";\nimport styled from \"styled-components\";\n\nconst MoviesPage = () => {\n  return (\n    <MoviesContainer>\n      <H2>Movies Page</H2>\n      <MoviesSearch/>\n    </MoviesContainer>\n  )\n}\n\nconst MoviesContainer = styled.div`\nmax-width: 1140px;\nmargin: 0 auto;\n`\nconst H2 = styled.h2`\nfont-size: 32px;\ntext-align: center;\nmargin:12px;\n`\nexport default MoviesPage;","\nconst URL = 'https://api.themoviedb.org/3';\nconst KEY = 'b562b6919245407f9980120c8923230e';\n\nexport const getPopularMovies = async () => {\n  try {\n    const response = await fetch(`${URL}/trending/movie/day?api_key=${KEY}`);\n    const movies = await response.json();\n    // console.log(movies);\n    return movies.results;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const getFullInfoMovie = async (id) => {\n  try {\n    const response = await fetch(`${URL}/movie/${id}?api_key=${KEY}`);\n    const movie = await response.json();\n    // console.log(movie);\n    return movie;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const getSearchMovies = async (query) => { \n  try {\n    const response = await fetch(`${URL}/search/movie?api_key=${KEY}&query=${query}`);\n    const movies = await response.json();\n    // console.log(movies);\n    return movies.results;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const getCast = async (id) => {\n  try {\n    const response = await fetch(`${URL}/movie/${id}/credits?api_key=${KEY}`);\n    const cast = await response.json();\n    console.log(cast);\n    return cast;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const getReviews = async (id) => {\n  try {\n    const response = await fetch(`${URL}/movie/${id}/reviews?api_key=${KEY}`);\n    const reviews = await response.json();\n    console.log(reviews);\n    return reviews;\n  } catch (error) {\n    console.log(error);\n  }\n};"],"names":["MovieList","elements","items","map","id","title","Li","LinkEl","to","defaultProps","styled","Link","MoviesSearchForm","onSubmit","useState","search","state","setState","e","preventDefault","Input","name","value","onChange","target","placeholder","required","Btm","type","MoviesSearch","loading","error","useSearchParams","searchParams","setSearchParams","get","useEffect","fetchMovies","prevState","getSearchMovies","data","Card","length","MoviesContainer","H2","URL","KEY","getPopularMovies","fetch","response","json","movies","results","console","log","getFullInfoMovie","movie","query","getCast","cast","getReviews","reviews"],"sourceRoot":""}