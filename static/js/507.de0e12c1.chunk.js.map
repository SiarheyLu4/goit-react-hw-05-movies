{"version":3,"file":"static/js/507.de0e12c1.chunk.js","mappings":"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","sources":["components/MovieList/MovieList.jsx","components/MoviesSearchForm/MoviesSearchForm.jsx","components/MoviesSearch/MoviesSearch.jsx","pages/MoviesPage/MoviesPage.jsx","shared/api/apiMovies.js"],"sourcesContent":["import { Link, useLocation } from \"react-router-dom\";\nimport styled from \"styled-components\";\n\nexport const MovieList = ({ items }) => {\n  const location = useLocation();\n  // console.log(location);\n  const elements = items.map(({ id, title }) => <Li key={id}>\n    <LinkEl state={{from: location}} to={`/movies/${id}`}>{title}</LinkEl>\n    </Li>);\n  return (\n    <ul>{elements}</ul>\n  );\n}\n\nMovieList.defaultProps = {\n    items:[]\n}\n\nconst LinkEl = styled(Link)`\n  text-decoration: none;\n  color: inherit;\n  &: hover{\n    color: #5941e8;\n  }\n`\nconst Li = styled.li`\npadding-bottom: 4px;\nfont-size: 24px;\n`","import { useState } from \"react\";\nimport styled from \"styled-components\";\nimport PropTypes from 'prop-types';\n\nexport const MoviesSearchForm = ({onSubmit}) => {\n  const [state, setState] = useState({\n    search: '',\n  });\n\n  const handleChange = ({ target }) => {\n    const { name, value } = target;\n    setState({\n      ...state,\n      [name]: value,\n    })\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    onSubmit({ ...state });\n    setState({\n      search: ''\n    })\n  };\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <Input\n        name='search'\n        value={state.search}\n        onChange={handleChange}\n        placeholder='enter movie name'\n        required\n      />\n      <Btm type=\"submit\">Search</Btm>\n    </form>\n  )\n};\n\nMoviesSearchForm.propTypes = {\n  onSubmit: PropTypes.func.isRequired\n}\n\nconst Input = styled.input`\n  width: 400px;\n  height: 28px;\n  font-size: 24px;\n  margin-bottom: 16px;\n`\nconst Btm = styled.button`\n  height: 34px;\n  font-size: 24px;\n  background-color: #d3cff6;\n  &:hover{\n    background-color: #8b79f6;\n  }\n`","import { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport { useSearchParams } from \"react-router-dom\";\n\n\nimport { MoviesSearchForm } from \"components/MoviesSearchForm/MoviesSearchForm\";\nimport { getSearchMovies } from \"shared/api/apiMovies\";\nimport { MovieList } from \"components/MovieList/MovieList\";\n\nexport const MoviesSearch = () => {\n  const [state, setState] = useState({\n    items: [],\n    loading: false,\n    error: null,\n  });\n\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  const search = searchParams.get('search');\n\n  // const [search, setSearch] = useState('');\n\n  useEffect(() => {\n    const fetchMovies = async () => {\n      try {\n        setState(prevState => ({\n          ...prevState,\n          loading: true,\n        }))\n        const data = await getSearchMovies(search);\n        setState(prevState => ({\n          ...prevState,\n          items: data,\n        }))\n      } catch (error) {\n        setState(prevState => ({\n          ...prevState, \n          error,\n        }))\n      }\n      finally {\n        setState(prevState => ({\n          ...prevState,\n          loading: false,\n        }))\n      }\n    };\n\n    if (search) {\n      fetchMovies()\n    }\n  }, [search]);\n\n  const changeSearch = ({ search }) => {\n    setSearchParams({search});\n  };\n\n  const { items, loading, error } = state;\n\n  return (\n    <Card>\n      <MoviesSearchForm onSubmit={changeSearch} />\n      {items.length > 0 && <MovieList items={items} />}\n      {loading && <p>Loading movies</p>}\n      {error && <p>Loading movies failed</p>}\n    </Card>\n  )\n};\n\nconst Card = styled.div`\n  margin: 12px;\n`","import { MoviesSearch } from \"components/MoviesSearch/MoviesSearch\";\nimport styled from \"styled-components\";\n\nconst MoviesPage = () => {\n  return (\n    <MoviesContainer>\n      <H2>Movies Page</H2>\n      <MoviesSearch/>\n    </MoviesContainer>\n  )\n}\n\nconst MoviesContainer = styled.div`\nmax-width: 1140px;\nmargin: 0 auto;\n`\nconst H2 = styled.h2`\nfont-size: 32px;\ntext-align: center;\nmargin:12px;\n`\nexport default MoviesPage;","\nconst URL = 'https://api.themoviedb.org/3';\nconst KEY = 'b562b6919245407f9980120c8923230e';\n\nexport const getPopularMovies = async () => {\n  try {\n    const response = await fetch(`${URL}/trending/movie/day?api_key=${KEY}`);\n    const movies = await response.json();\n    // console.log(movies);\n    return movies.results;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const getFullInfoMovie = async (id) => {\n  try {\n    const response = await fetch(`${URL}/movie/${id}?api_key=${KEY}`);\n    const movie = await response.json();\n    // console.log(movie);\n    return movie;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const getSearchMovies = async (query) => { \n  try {\n    const response = await fetch(`${URL}/search/movie?api_key=${KEY}&query=${query}`);\n    const movies = await response.json();\n    // console.log(movies);\n    return movies.results;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const getCast = async (id) => {\n  try {\n    const response = await fetch(`${URL}/movie/${id}/credits?api_key=${KEY}`);\n    const cast = await response.json();\n    // console.log(cast);\n    return cast;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const getReviews = async (id) => {\n  try {\n    const response = await fetch(`${URL}/movie/${id}/reviews?api_key=${KEY}`);\n    const reviews = await response.json();\n    // console.log(reviews);\n    return reviews.results;\n  } catch (error) {\n    console.log(error);\n  }\n};"],"names":["MovieList","items","location","useLocation","elements","map","id","title","Li","LinkEl","state","from","to","defaultProps","styled","Link","MoviesSearchForm","onSubmit","useState","search","setState","e","preventDefault","Input","name","value","onChange","target","placeholder","required","Btm","type","MoviesSearch","loading","error","useSearchParams","searchParams","setSearchParams","get","useEffect","fetchMovies","prevState","getSearchMovies","data","Card","length","MoviesContainer","H2","URL","KEY","getPopularMovies","fetch","response","json","movies","results","console","log","getFullInfoMovie","movie","query","getCast","cast","getReviews","reviews"],"sourceRoot":""}